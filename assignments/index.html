<!doctype html>
<html ng-app="expenseManager">
	<head>
		<title>Expense Manager</title>
		<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
		<link rel="stylesheet" href="css/custom.css">
	</head>
	
	<body>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
		<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script>
		<!--<script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-router/0.2.15/angular-ui-router.js"></script>-->
		<script src="scripts/app.js"></script>
		<script src="scripts/controllers/ExpenseManagerController.js"></script>
		
		<div class="header">
			<h1>Expense Manager</h1>
		</div>
		<div class="container main-container" ng-controller="ExpenseManagerController as expenseManagerCtrl">
			<button class="btn btn-success" ng-click="expenseManagerCtrl.showList('income')">Show Income</button>
			<button class="btn btn-warning" ng-click="expenseManagerCtrl.showList('expense')">Show Expenses</button>
			
			<p class="details">
				Total Income: <span ng-bind="expenseManagerCtrl.totalIncome"></span>
				Total Expenses: <span ng-bind="expenseManagerCtrl.totalExpenses"></span>
				Total Balance: <span>{{expenseManagerCtrl.totalIncome - expenseManagerCtrl.totalExpenses}}</span>
			</p>
			<!-- Income Table -->
			<div ng-show="expenseManagerCtrl.showIncome">
				<h3>User Income</h3>
				<table class="table table-striped table-bordered">
					<thead>
						<tr>
							<th>Transaction #</th>
							<th>Payer</th>
							<th>Category</th>
							<th>Sub Category</th>
							<th>Amount</th>
							<th>Date of Transaction</th>
							<th>Mode of Payment</th>
							<th>Notes</th>
						</tr>
					</thead>
					<tbody ng-repeat="income in expenseManagerCtrl.income">
						<tr>
							<td ng-bind="income.transactionId"></td>
							<td ng-bind="income.payer"></td>
							<td ng-bind="income.category"></td>
							<td ng-bind="income.subCategory"></td>
							<td ng-bind="income.amount"></td>
							<td ng-bind="income.dateOfTransaction"></td>
							<td ng-bind="income.modeOfPayment"></td>
							<td ng-bind="income.notes"></td>
							<td hidden="true" ng-init="expenseManagerCtrl.totalIncome = expenseManagerCtrl.totalIncome + income.amount"></td>
						</tr>
					</tbody>
				</table>
			</div>
			
			<!-- Expense Table -->
			<div ng-show="expenseManagerCtrl.showExpenses">
				<h3>User Expenses</h3>
				<table class="table table-bordered table-striped">
					<thead>
						<tr>
							<th>Transaction #</th>
							<th>Payee</th>
							<th>Category</th>
							<th>Sub Category</th>
							<th>Amount</th>
							<th>Date of Transaction</th>
							<th>Mode of Payment</th>
							<th>Notes</th>
						</tr>
					</thead>
					<tbody ng-repeat="expense in expenseManagerCtrl.expenses">
						<tr>
							<td ng-bind="expense.transactionId"></td>
							<td ng-bind="expense.payee"></td>
							<td ng-bind="expense.category"></td>
							<td ng-bind="expense.subCategory"></td>
							<td ng-bind="expense.amount"></td>
							<td ng-bind="expense.dateOfTransaction"></td>
							<td ng-bind="expense.modeOfPayment"></td>
							<td ng-bind="expense.notes"></td>
							<td hidden="true" ng-init="expenseManagerCtrl.totalExpenses = expenseManagerCtrl.totalExpenses + expense.amount"></td>
						</tr>
					</tbody>
				</table>
			</div>
			
		</div>
		<div class="footer"></div>
	</body>
</html>